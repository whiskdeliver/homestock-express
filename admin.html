<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - HomeStock Express</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* EXACT SAME CSS AS HOME PAGE */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        :root {
            --primary: #2a6b3b;
            --primary-light: #3a8b4b;
            --secondary: #ff7b00;
            --light: #f8f9fa;
            --dark: #333;
            --gray: #6c757d;
            --border: #eaeaea;
        }

        body {
            background-color: #fff;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header - Same as home page */
        header {
            background: white;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo i {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover, nav a.active {
            color: var(--primary);
        }

        .btn {
            padding: 10px 25px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(42, 107, 59, 0.2);
        }

        /* Login Section - Same style as home page */
        .hero {
            background: linear-gradient(135deg, rgba(42, 107, 59, 0.95), rgba(58, 139, 75, 0.9)), url('https://images.unsplash.com/photo-1559028012-481c04fa702d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 60px;
        }

        .hero h1 {
            font-size: 3.2rem;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Login Container */
        .login-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 80px;
        }

        .login-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .login-header h2 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .login-header p {
            color: var(--gray);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(42, 107, 59, 0.1);
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
        }

        .input-with-icon input {
            padding-left: 45px;
        }

        .remember-forgot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .forgot-password {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .login-btn i {
            margin-right: 10px;
        }

        .error-message {
            background: #ffeaea;
            color: #d32f2f;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }

        .security-note {
            background: #f0f9f0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid var(--primary);
        }

        .security-note h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Admin Panel (hidden until login) */
        .admin-panel {
            display: none;
        }

        .admin-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 40px 0;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .admin-header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .admin-nav {
            background: var(--light);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 40px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .admin-nav button {
            padding: 12px 24px;
            border: none;
            background: white;
            color: var(--dark);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .admin-nav button:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .admin-nav button.active {
            background: var(--primary);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Form Styles for Admin */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 40px;
        }

        .products-list {
            margin-top: 30px;
        }

        .product-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        /* Stats Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* Footer - Same as home page */
        footer {
            background: #1a1a1a;
            color: #ccc;
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 10px;
        }

        .footer-column a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #333;
            color: #888;
            font-size: 0.9rem;
        }

        /* Logout Button */
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: auto;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .login-container {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header - Same as home page -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <i class="fas fa-boxes"></i>
                <span>HomeStock Express</span>
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#products">Products</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="reviews.html">Reviews</a></li>
                    <li><a href="partnerships.html">Partnerships</a></li>
                    <li><a href="admin.html" class="active">Admin</a></li>
                </ul>
            </nav>
            <a href="cart.html" class="btn btn-primary">
                <i class="fas fa-shopping-cart"></i> Cart
            </a>
        </div>
    </header>

    <!-- Login Section (Visible by default) -->
    <section id="loginSection">
        <div class="hero">
            <div class="container">
                <h1><i class="fas fa-lock"></i> Admin Access</h1>
                <p>Restricted area for authorized personnel only</p>
            </div>
        </div>

        <div class="container">
            <div class="login-container">
                <div class="login-header">
                    <h2><i class="fas fa-user-shield"></i> Owner Login</h2>
                    <p>Enter your credentials to access the admin panel</p>
                </div>

                <div class="error-message" id="errorMessage">
                    <i class="fas fa-exclamation-circle"></i> <span id="errorText">Invalid credentials</span>
                </div>

                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <div class="input-with-icon">
                            <i class="fas fa-user"></i>
                            <input type="text" id="username" class="form-control" placeholder="Enter admin username" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-key"></i>
                            <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
                        </div>
                    </div>

                    <div class="remember-forgot">
                        <div class="remember-me">
                            <input type="checkbox" id="rememberMe">
                            <label for="rememberMe">Remember me</label>
                        </div>
                        <a href="#" class="forgot-password">Forgot password?</a>
                    </div>

                    <button type="submit" class="btn btn-primary login-btn">
                        <i class="fas fa-sign-in-alt"></i> Login to Admin Panel
                    </button>
                </form>

                <div class="security-note">
                    <h4><i class="fas fa-shield-alt"></i> Security Notice</h4>
                    <p>This area is restricted to website owners only. Unauthorized access attempts are logged and monitored.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Panel (Hidden until login) -->
    <section id="adminPanel" class="admin-panel">
        <div class="container">
            <div class="admin-header">
                <h1><i class="fas fa-cogs"></i> Admin Dashboard</h1>
                <p>Manage your website, products, and orders</p>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>

            <!-- Admin Navigation -->
            <div class="admin-nav">
                <button onclick="showTab('dashboard')" class="active">Dashboard</button>
                <button onclick="showTab('products')">Manage Products</button>
                <button onclick="showTab('orders')">View Orders</button>
                <button onclick="showTab('settings')">Settings</button>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <div class="form-container">
                    <h2 style="color: var(--primary); margin-bottom: 30px;">
                        <i class="fas fa-tachometer-alt"></i> Quick Overview
                    </h2>
                    
                    <div class="stats-cards">
                        <div class="stat-card">
                            <div class="stat-number" id="totalProducts">0</div>
                            <p>Total Products</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalOrders">0</div>
                            <p>Orders Today</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalRevenue">KSh 0</div>
                            <p>Revenue Today</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="customerCount">0</div>
                            <p>Customers</p>
                        </div>
                    </div>

                    <div style="margin-top: 40px;">
                        <h3 style="margin-bottom: 20px; color: var(--primary);">
                            <i class="fas fa-bolt"></i> Quick Actions
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                            <button class="btn btn-primary" onclick="showTab('products')">
                                <i class="fas fa-plus"></i> Add New Product
                            </button>
                            <button class="btn btn-primary" onclick="showTab('orders')">
                                <i class="fas fa-shopping-bag"></i> View Orders
                            </button>
                            <button class="btn btn-primary" onclick="showTab('settings')">
                                <i class="fas fa-cog"></i> Update Settings
                            </button>
                            <a href="index.html" class="btn btn-primary">
                                <i class="fas fa-eye"></i> View Website
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manage Products Tab -->
            <div id="products" class="tab-content">
                <div class="form-container">
                    <h2 style="color: var(--primary); margin-bottom: 30px;">
                        <i class="fas fa-box"></i> Manage Products
                    </h2>
                    
                    <form id="addProductForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productName">Product Name *</label>
                                <input type="text" id="productName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="productPrice">Price (KSh) *</label>
                                <input type="number" id="productPrice" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productCategory">Category *</label>
                                <select id="productCategory" class="form-control" required>
                                    <option value="">Select Category</option>
                                    <option value="Cleaning Supplies">Cleaning Supplies</option>
                                    <option value="Kitchen Essentials">Kitchen Essentials</option>
                                    <option value="Personal Care">Personal Care</option>
                                    <option value="Home & Office">Home & Office</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="productStock">Stock Quantity *</label>
                                <input type="number" id="productStock" class="form-control" value="50" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="productImage">Image URL</label>
                            <input type="text" id="productImage" class="form-control" 
                                   placeholder="https://example.com/image.jpg">
                        </div>
                        
                        <div class="form-group">
                            <label for="productDescription">Description *</label>
                            <textarea id="productDescription" class="form-control" rows="4" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="productTag">Special Tag</label>
                            <select id="productTag" class="form-control">
                                <option value="">None</option>
                                <option value="BESTSELLER">BESTSELLER</option>
                                <option value="POPULAR">POPULAR</option>
                                <option value="NEW">NEW</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="padding: 15px 40px;">
                            <i class="fas fa-save"></i> Add Product
                        </button>
                    </form>
                    
                    <!-- Products List -->
                    <div class="products-list" id="productsList">
                        <h3 style="margin: 40px 0 20px; color: var(--primary);">Existing Products</h3>
                        <!-- Products will be listed here -->
                    </div>
                </div>
            </div>

            <!-- View Orders Tab -->
            <div id="orders" class="tab-content">
                <div class="form-container">
                    <h2 style="color: var(--primary); margin-bottom: 30px;">
                        <i class="fas fa-shopping-bag"></i> Recent Orders
                    </h2>
                    
                    <div id="ordersList">
                        <!-- Orders will be listed here -->
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings" class="tab-content">
                <div class="form-container">
                    <h2 style="color: var(--primary); margin-bottom: 30px;">
                        <i class="fas fa-cog"></i> Website Settings
                    </h2>
                    
                    <form id="settingsForm">
                        <h3 style="margin-bottom: 20px; color: var(--dark);">Payment Information</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="businessPhone">Phone Number *</label>
                                <input type="text" id="businessPhone" class="form-control" 
                                       value="+254 712 345 678" required>
                            </div>
                            <div class="form-group">
                                <label for="whatsappNumber">WhatsApp Number *</label>
                                <input type="text" id="whatsappNumber" class="form-control" 
                                       value="+254 712 345 678" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="businessEmail">Email Address *</label>
                                <input type="email" id="businessEmail" class="form-control" 
                                       value="sales@homestockexpress.co.ke" required>
                            </div>
                            <div class="form-group">
                                <label for="mpesaNumber">M-Pesa Number *</label>
                                <input type="text" id="mpesaNumber" class="form-control" 
                                       value="0708592532" required>
                            </div>
                        </div>
                        
                        <h3 style="margin: 30px 0 20px; color: var(--dark);">Business Settings</h3>
                        
                        <div class="form-group">
                            <label for="deliveryFee">Delivery Fee (KSh)</label>
                            <input type="number" id="deliveryFee" class="form-control" value="200">
                        </div>
                        
                        <div class="form-group">
                            <label for="freeDeliveryThreshold">Free Delivery Threshold (KSh)</label>
                            <input type="number" id="freeDeliveryThreshold" class="form-control" value="3000">
                        </div>
                        
                        <div class="form-group">
                            <label for="businessHours">Business Hours</label>
                            <input type="text" id="businessHours" class="form-control" 
                                   value="Monday - Sunday, 8AM - 8PM">
                        </div>
                        
                        <h3 style="margin: 30px 0 20px; color: var(--dark);">Security Settings</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="adminUsername">Change Admin Username</label>
                                <input type="text" id="adminUsername" class="form-control" 
                                       placeholder="Leave blank to keep current">
                            </div>
                            <div class="form-group">
                                <label for="adminPassword">Change Admin Password</label>
                                <input type="password" id="adminPassword" class="form-control" 
                                       placeholder="Leave blank to keep current">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="padding: 15px 40px;">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer - Same as home page -->
    <footer>
        <div class="container footer-content">
            <div class="footer-column">
                <h3>HomeStock Express</h3>
                <p>Your trusted partner for home essentials. Fast, reliable delivery straight to your door.</p>
                <div style="margin-top: 15px; display: flex; gap: 15px;">
                    <a href="#" style="color: white;"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" style="color: white;"><i class="fab fa-instagram"></i></a>
                    <a href="#" style="color: white;"><i class="fab fa-twitter"></i></a>
                </div>
                <p style="color: #888; font-size: 0.9rem; margin-top: 10px;">
                    <i class="fas fa-money-bill-wave"></i> All prices in Kenyan Shillings
                </p>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#products">Products</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="reviews.html">Reviews</a></li>
                    <li><a href="partnerships.html">Partnerships</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Support</h3>
                <ul>
                    <li><a href="cart.html">My Cart</a></li>
                    <li><a href="checkout.html">Checkout Help</a></li>
                    <li><a href="#">Delivery Areas</a></li>
                    <li><a href="#">Return Policy</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Contact Info</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</li>
                    <li><i class="fas fa-phone"></i> +254 712 345 678</li>
                    <li><i class="fab fa-whatsapp"></i> +254 712 345 678</li>
                    <li><i class="fas fa-envelope"></i> sales@homestockexpress.co.ke</li>
                </ul>
            </div>
        </div>
        
        <div class="container footer-bottom">
            <p>&copy; 2023 HomeStock Express. All rights reserved. | All prices in Kenyan Shillings (KES)</p>
        </div>
    </footer>

    <script>
        // ðŸ” **YOUR CUSTOM LOGIN CREDENTIALS**
        // âš ï¸ CHANGE THESE TO YOUR OWN CREDENTIALS
        let ADMIN_USERNAME = "admin_homestock";
        let ADMIN_PASSWORD = "HomeStock2023!";
        
        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we need to update from localStorage
            const savedUsername = localStorage.getItem('adminUsernameCustom');
            const savedPassword = localStorage.getItem('adminPasswordCustom');
            
            if (savedUsername) ADMIN_USERNAME = savedUsername;
            if (savedPassword) ADMIN_PASSWORD = savedPassword;
            
            const isLoggedIn = localStorage.getItem('adminLoggedIn');
            if (isLoggedIn === 'true') {
                showAdminPanel();
            }
            
            // Update dashboard stats
            updateDashboardStats();
            
            // Load saved settings
            loadSavedSettings();
        });
        
        // Login form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            // Basic validation
            if (!username || !password) {
                showError('Please enter both username and password');
                return;
            }
            
            // Check credentials
            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
                // Successful login
                localStorage.setItem('adminLoggedIn', 'true');
                
                // Store credentials if "Remember me" is checked
                if (rememberMe) {
                    localStorage.setItem('adminUsername', username);
                    // Note: Never store passwords in localStorage for real applications
                } else {
                    localStorage.removeItem('adminUsername');
                }
                
                showAdminPanel();
                showSuccess('Welcome back!');
            } else {
                showError('Invalid username or password');
                
                // Failed login attempts tracking
                let attempts = parseInt(localStorage.getItem('loginAttempts') || '0');
                attempts++;
                localStorage.setItem('loginAttempts', attempts.toString());
                
                if (attempts >= 3) {
                    setTimeout(() => {
                        showError('Too many failed attempts. Please try again in 60 seconds.');
                        document.getElementById('loginForm').reset();
                        document.getElementById('loginForm').querySelectorAll('input, button').forEach(el => {
                            el.disabled = true;
                        });
                        setTimeout(() => {
                            document.getElementById('loginForm').querySelectorAll('input, button').forEach(el => {
                                el.disabled = false;
                            });
                            localStorage.setItem('loginAttempts', '0');
                        }, 60000); // 60 second lockout
                    }, 100);
                }
            }
        });
        
        // Show admin panel after successful login
        function showAdminPanel() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            updateDashboardStats();
        }
        
        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminLoggedIn');
                document.getElementById('adminPanel').style.display = 'none';
                document.getElementById('loginSection').style.display = 'block';
                document.getElementById('loginForm').reset();
                showSuccess('Logged out successfully');
            }
        }
        
        // Show error message
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            document.getElementById('errorText').textContent = message;
            errorDiv.style.display = 'block';
            
            // Shake animation for error
            errorDiv.style.animation = 'none';
            setTimeout(() => {
                errorDiv.style.animation = 'shake 0.5s';
            }, 10);
            
            // Hide error after 5 seconds
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }
        
        // Show success message
        function showSuccess(message) {
            // Create toast notification
            const toast = document.createElement('div');
            toast.className = 'toast-success';
            toast.innerHTML = `
                <i class="fas fa-check-circle"></i> ${message}
            `;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--primary);
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideIn 0.3s ease, slideOut 0.3s ease 2.7s;
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 3000);
        }
        
        // Tab switching for admin panel
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.admin-nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Load data for the tab
            if (tabId === 'products') {
                loadProducts();
            } else if (tabId === 'orders') {
                loadOrders();
            }
        }
        
        // Update dashboard statistics
        function updateDashboardStats() {
            // Get products from localStorage
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            
            // Update stats
            document.getElementById('totalProducts').textContent = products.length;
            
            // Get orders from localStorage
            const orders = JSON.parse(localStorage.getItem('adminOrders')) || [];
            const today = new Date().toISOString().split('T')[0];
            const todayOrders = orders.filter(order => order.date === today);
            
            document.getElementById('totalOrders').textContent = todayOrders.length;
            
            // Calculate revenue
            const revenue = todayOrders.reduce((sum, order) => sum + order.total, 0);
            document.getElementById('totalRevenue').textContent = `KSh ${revenue.toLocaleString('en-KE')}`;
            
            // Calculate unique customers
            const customers = [...new Set(orders.map(order => order.customerId))];
            document.getElementById('customerCount').textContent = customers.length;
        }
        
        // Load products for management
        function loadProducts() {
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            const container = document.getElementById('productsList');
            
            if (products.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: var(--light); border-radius: 8px;">
                        <i class="fas fa-box-open" style="font-size: 3rem; color: var(--gray); margin-bottom: 20px;"></i>
                        <h3>No products yet</h3>
                        <p>Add your first product using the form above</p>
                    </div>
                `;
                return;
            }
            
            let html = '<div style="display: grid; grid-template-columns: 1fr; gap: 15px;">';
            
            products.forEach((product, index) => {
                html += `
                    <div class="product-item">
                        <div style="flex: 1;">
                            <h4 style="margin-bottom: 5px;">${product.name}</h4>
                            <div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--gray);">
                                <span>Price: KSh ${product.price.toLocaleString('en-KE')}</span>
                                <span>Category: ${product.category}</span>
                                <span>Stock: ${product.stock || 50}</span>
                                ${product.tag ? `<span style="background: #ff7b00; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem;">${product.tag}</span>` : ''}
                            </div>
                        </div>
                        <div class="product-actions">
                            <button onclick="editProduct(${index})" style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer;">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button onclick="deleteProduct(${index})" style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer;">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        // Add product form
        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const product = {
                id: Date.now(),
                name: document.getElementById('productName').value,
                price: parseFloat(document.getElementById('productPrice').value),
                category: document.getElementById('productCategory').value,
                stock: parseInt(document.getElementById('productStock').value) || 50,
                image: document.getElementById('productImage').value || 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80',
                description: document.getElementById('productDescription').value,
                tag: document.getElementById('productTag').value,
                dateAdded: new Date().toISOString()
            };
            
            // Save to localStorage
            let products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            products.push(product);
            localStorage.setItem('adminProducts', JSON.stringify(products));
            
            // Update main website products
            updateWebsiteProducts(products);
            
            // Show success message
            showSuccess(`Product "${product.name}" added successfully!`);
            
            // Clear form
            this.reset();
            
            // Update dashboard and reload products
            updateDashboardStats();
            loadProducts();
        });
        
        // Update main website products
        function updateWebsiteProducts(adminProducts) {
            // Convert admin products to website products format
            const websiteProducts = adminProducts.map(product => ({
                id: product.id,
                name: product.name,
                price: product.price,
                description: product.description,
                image: product.image,
                category: product.category,
                tag: product.tag
            }));
            
            localStorage.setItem('websiteProducts', JSON.stringify(websiteProducts));
        }
        
        // Edit product
        function editProduct(index) {
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            const product = products[index];
            
            // Fill form with product data
            document.getElementById('productName').value = product.name;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productStock').value = product.stock || 50;
            document.getElementById('productImage').value = product.image;
            document.getElementById('productDescription').value = product.description;
            document.getElementById('productTag').value = product.tag || '';
            
            // Scroll to form
            document.getElementById('addProductForm').scrollIntoView({ behavior: 'smooth' });
            
            // Change form button text
            const submitBtn = document.querySelector('#addProductForm button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-save"></i> Update Product';
            
            // Store original form handler
            const form = document.getElementById('addProductForm');
            const originalSubmit = form.onsubmit;
            
            // Temporarily override form submission
            form.onsubmit = function(e) {
                e.preventDefault();
                
                // Update product
                products[index] = {
                    ...products[index],
                    name: document.getElementById('productName').value,
                    price: parseFloat(document.getElementById('productPrice').value),
                    category: document.getElementById('productCategory').value,
                    stock: parseInt(document.getElementById('productStock').value),
                    image: document.getElementById('productImage').value,
                    description: document.getElementById('productDescription').value,
                    tag: document.getElementById('productTag').value
                };
                
                localStorage.setItem('adminProducts', JSON.stringify(products));
                updateWebsiteProducts(products);
                
                showSuccess(`Product "${products[index].name}" updated!`);
                
                // Reset form and restore original handler
                form.reset();
                submitBtn.innerHTML = originalText;
                form.onsubmit = originalSubmit;
                
                loadProducts();
            };
        }
        
        // Delete product
        function deleteProduct(index) {
            if (confirm('Are you sure you want to delete this product?')) {
                let products = JSON.parse(localStorage.getItem('adminProducts')) || [];
                const productName = products[index].name;
                products.splice(index, 1);
                localStorage.setItem('adminProducts', JSON.stringify(products));
                updateWebsiteProducts(products);
                showSuccess(`Product "${productName}" deleted`);
                loadProducts();
                updateDashboardStats();
            }
        }
        
        // Load orders
        function loadOrders() {
            const container = document.getElementById('ordersList');
            const orders = JSON.parse(localStorage.getItem('adminOrders')) || [];
            
            if (orders.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: var(--light); border-radius: 8px;">
                        <i class="fas fa-shopping-bag" style="font-size: 3rem; color: var(--gray); margin-bottom: 20px;"></i>
                        <h3>No orders yet</h3>
                        <p>Orders will appear here when customers place them</p>
                    </div>
                `;
                return;
            }
            
            let html = '<div style="display: grid; grid-template-columns: 1fr; gap: 15px;">';
            
            orders.forEach(order => {
                let statusColor = '#6c757d';
                if (order.status === 'Delivered') statusColor = 'var(--primary)';
                if (order.status === 'Processing') statusColor = 'var(--secondary)';
                if (order.status === 'Pending') statusColor = '#ffc107';
                
                html += `
                    <div class="product-item">
                        <div style="display: flex; justify-content: space-between; width: 100%;">
                            <div>
                                <h4 style="margin-bottom: 5px;">Order #${order.id}</h4>
                                <div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--gray);">
                                    <span>Customer: ${order.customer}</span>
                                    <span>Date: ${order.date}</span>
                                    <span>Items: ${order.items}</span>
                                    <span>Total: KSh ${order.total.toLocaleString('en-KE')}</span>
                                </div>
                            </div>
                            <div>
                                <span style="background: ${statusColor}; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.9rem;">
                                    ${order.status}
                                </span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        // Load saved settings
        function loadSavedSettings() {
            const savedSettings = JSON.parse(localStorage.getItem('siteSettings'));
            if (savedSettings) {
                document.getElementById('businessPhone').value = savedSettings.phone || '+254 712 345 678';
                document.getElementById('whatsappNumber').value = savedSettings.whatsapp || '+254 712 345 678';
                document.getElementById('businessEmail').value = savedSettings.email || 'sales@homestockexpress.co.ke';
                document.getElementById('mpesaNumber').value = savedSettings.mpesa || '0708592532';
                document.getElementById('deliveryFee').value = savedSettings.deliveryFee || 200;
                document.getElementById('freeDeliveryThreshold').value = savedSettings.freeDelivery || 3000;
                document.getElementById('businessHours').value = savedSettings.hours || 'Monday - Sunday, 8AM - 8PM';
            }
        }
        
        // Settings form
        document.getElementById('settingsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const settings = {
                phone: document.getElementById('businessPhone').value,
                whatsapp: document.getElementById('whatsappNumber').value,
                email: document.getElementById('businessEmail').value,
                mpesa: document.getElementById('mpesaNumber').value,
                deliveryFee: document.getElementById('deliveryFee').value,
                freeDelivery: document.getElementById('freeDeliveryThreshold').value,
                hours: document.getElementById('businessHours').value
            };
            
            // Save settings
            localStorage.setItem('siteSettings', JSON.stringify(settings));
            
            // Update admin credentials if changed
            const newUsername = document.getElementById('adminUsername').value;
            const newPassword = document.getElementById('adminPassword').value;
            
            if (newUsername) {
                ADMIN_USERNAME = newUsername;
                localStorage.setItem('adminUsernameCustom', newUsername);
                document.getElementById('adminUsername').value = '';
            }
            
            if (newPassword) {
                ADMIN_PASSWORD = newPassword;
                localStorage.setItem('adminPasswordCustom', newPassword);
                document.getElementById('adminPassword').value = '';
            }
            
            showSuccess('Settings saved successfully!');
        });
        
        // Forgot password
        document.querySelector('.forgot-password').addEventListener('click', function(e) {
            e.preventDefault();
            alert('âš ï¸ ADMIN RESET INSTRUCTIONS âš ï¸\n\nDefault credentials:\nUsername: admin_homestock\nPassword: HomeStock2023!\n\nTo reset:\n1. Use default credentials above\n2. Go to Settings tab\n3. Change username/password\n4. Click Save Settings\n\nâš ï¸ Keep your credentials private!');
        });
        
        // Add CSS for animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
            
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>